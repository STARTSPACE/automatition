# Коллекция скриптов автомазиции
Разработано   **[STARTSPACE - корпоративное облако приложений 1С, SQL & WEB] (https://www.startspace.ru)**</br>

*STARTSPACE - экспетры Amazon Web Services в России и странах СНГ*

Вашему вниманию представлена коллекция скриптов аввтоматизации запуска, остановки и перезапуска инстанций AWS.
Характерной особенностью данной коллекции является то, что мы принципиально создавали ее для использования без
внешних переменных, хранимых в отдельном файле или базе данных. Такое решение было продиковано желанием
обеспечить наших клиентов инструментом, не требующем дополнитеьных настроек. Все, что необходимо - это **правильно
выставить ключи тегов и соответствующие значения,** используя для этого собственную панель AWS, стороннеее решение
или AWS CLI язык.

Кроме этого, каждый из скриптов можно использовать как по отдельности, так и в составе предлагаемых групп.
# Описание технического решения
Архитектура технического решения выглядит следующим образом:
- папка ```start``` содержит скрипты для запуска инстанций
- папка ```stop``` содержит скрипты для остановки инстанций
- папка ```reboot``` содержит скрипты для перезапуска инстанций

Внутри каждой из папок есть дополнительные папки:
- ```ad``` - ALL DAYS - скрипты, которые запускаются ежедневно
- ```wd``` - WORK DAYS - скрипты, которые запускаются по рабочим дням (понедельник - пятница)

*Под РАБОЧИМИ ДНЯМИ подразумеваются обычные рабочие дни, без учета праздничных дней.*

Файл ```import-cron-jobs-full-list.sh``` содержит полный комплект расписаний для запуска всех необходимых заданий по запуску,
остановке и перезапуску инстанций. Расписание сформировано таким образом, что задания выполняются каждый час, например в 12.00,
13.00, 14.00 и т.д. Расписание покрывает полные сутки, 7 дней в неделю. Данный файл предназначен для импорта (см. ниже)
в предлагаемом или измененном виде.

# Порядок установки

**Предварительные действия**

```
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "ec2actionsforstartstopandreboot",
            "Effect": "Allow",
            "Action": [
                "ec2:DescribeInstances",
                "ec2:StopInstances",
                "ec2:StartInstances",
                "ec2:RebootInstances"
            ],
            "Resource": "arn:aws:ec2:us-east-1:accountid:instance/*"
        }
    ]
}
```

*Порядок установки на RPM системы (Amazon Linux, CentOS и т.д.) будет уточнен позднее*

**Порядок установки на DEB системы**

